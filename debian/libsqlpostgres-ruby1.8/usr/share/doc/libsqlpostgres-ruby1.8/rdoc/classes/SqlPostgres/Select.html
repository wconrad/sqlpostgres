
<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Class: SqlPostgres::Select</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <link rel=StyleSheet href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript" language="JavaScript">
  <!--
  function popCode(url) {
    window.open(url, "Code", 
          "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }
  //-->
  </script>
</head>

<body bgcolor="white">

<table summary="Information on class" width="100%" border="0" cellspacing="0">
 <tr class="title-row">
 <td class="big-title-font">
   <sup><font color="aqua">Class</font></sup> SqlPostgres::Select
 </td>
 <td align="right">
   <table summary="layout" cellspacing="0" cellpadding="2">
     <tr valign="top">
      <td class="small-title-font">In:</td>
      <td class="small-title-font">
        <a href="../../files/__/lib/sqlpostgres/Select_rb.html" class="aqua">
../lib/sqlpostgres/Select.rb
         </a>
<br />
      </td>
     </tr>
     <tr>
      <td class="small-title-font">Parent:</td>
      <td class="small-title-font">
Object
      </td>
     </tr>
   </table>
  </td>
  </tr>
</table>
  <!-- banner header -->



<div class="description"><p>
This class creates and executes an SQL select statement.
</p>
<p>
Example (assuming the values 1, 2 and null are in the database):
</p>
<pre>
  select = Select.new(connection)
  select.select('i')
  select.from('foo')
  select.order_by('i')
  p select.statement   # &quot;select i from foo order by i&quot;
  p select.exec        # [{&quot;i&quot;=&gt;1}, {&quot;i&quot;=&gt;2}, {&quot;i&quot;=&gt;nil}]
</pre>
</div>


<table summary="Methods" cellpadding="5" width="100%">
<tr><td class="tablesubtitle">Methods</td></tr>
</table>
<div class="name-list">
<a href="#M000107">cross_join</a>&nbsp; &nbsp;
<a href="#M000095">distinct</a>&nbsp; &nbsp;
<a href="#M000096">distinct_on</a>&nbsp; &nbsp;
<a href="#M000102">except</a>&nbsp; &nbsp;
<a href="#M000103">except_all</a>&nbsp; &nbsp;
<a href="#M000116">exec</a>&nbsp; &nbsp;
<a href="#M000114">for_update</a>&nbsp; &nbsp;
<a href="#M000097">from</a>&nbsp; &nbsp;
<a href="#M000110">group_by</a>&nbsp; &nbsp;
<a href="#M000111">having</a>&nbsp; &nbsp;
<a href="#M000100">intersect</a>&nbsp; &nbsp;
<a href="#M000101">intersect_all</a>&nbsp; &nbsp;
<a href="#M000106">join_on</a>&nbsp; &nbsp;
<a href="#M000105">join_using</a>&nbsp; &nbsp;
<a href="#M000112">limit</a>&nbsp; &nbsp;
<a href="#M000104">natural_join</a>&nbsp; &nbsp;
<a href="#M000092">new</a>&nbsp; &nbsp;
<a href="#M000113">offset</a>&nbsp; &nbsp;
<a href="#M000108">order_by</a>&nbsp; &nbsp;
<a href="#M000093">select</a>&nbsp; &nbsp;
<a href="#M000094">select_literal</a>&nbsp; &nbsp;
<a href="#M000115">statement</a>&nbsp; &nbsp;
<a href="#M000098">union</a>&nbsp; &nbsp;
<a href="#M000099">union_all</a>&nbsp; &nbsp;
<a href="#M000109">where</a>&nbsp; &nbsp;
</div>



<table summary="List of classes" cellpadding="5" width="100%">
<tr><td class="tablesubtitle">Classes and Modules</td></tr>
</table>
<div class="classlist">
Module <a href="Select/Types.html" class="link">SqlPostgres::Select::Types</a><br />

</div>


<table summary="Method list" cellpadding="5" width="100%">
<tr><td class="tablesubtitle">Public Class methods</td></tr>
</table>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000092"></a>
<a href="Select.src/M000092.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000092.html');return false;">
<b>new</b>(connection = Connection.default)
</a>
</td></tr>
</table>
<div class="description">
<p>
Constructor. If no connection is given, uses the default.
</p>
</div>
<table summary="Method list" cellpadding="5" width="100%">
<tr><td class="tablesubtitle">Public Instance methods</td></tr>
</table>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000093"></a>
<a href="Select.src/M000093.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000093.html');return false;">
<b>select</b>(expression, as = nil, &amp;converter)
</a>
</td></tr>
</table>
<div class="description">
<p>
Add an expression (usually just a simple column name) to the select
statement.
</p>
<dl>
<dt>expression</dt><dd>The expression to put in the select statement. Should be one of:

<dl>
<dt>An instance of <a href="Select.html">Select</a></dt><dd>The <a href="Select.html">Select</a>&#8217;s SQL statement is put in
parentheses and added to this statement.

</dd>
<dt>String or Array</dt><dd>Converted by <a href="Translate.html#M000002">substitute_values</a>

</dd>
</dl>
</dd>
<dt>as</dt><dd>The alias name to put in the statement and to use as the hash key in the
result. If nil, then no alias name appears in the statement and the
expression is used as the hash key.

</dd>
</dl>
<p>
Example:
</p>
<pre>
  select = Select.new(connection)
  select.select('i')
  select.from('foo')
  p select.statement       # &quot;select i from foo&quot;
  p select.exec            # [{&quot;i&quot;=&gt;1}]
</pre>
<p>
Example (alias)
</p>
<pre>
  select = Select.new(connection)
  select.select('i', 'number')
  select.from('foo')
  p select.statement       # &quot;select i as number from foo&quot;
  p select.exec            # [{&quot;number&quot;=&gt;1}]
</pre>
<p>
Example (expression)
</p>
<pre>
  pi = 3.14
  select = Select.new(connection)
  select.select(['d * %s', pi], 'c')
  select.from('circles')
  p select.statement       # &quot;select d * 3.14 as c from circles&quot;
  p select.exec            # [{&quot;c&quot;=&gt;6.28}]
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000094"></a>
<a href="Select.src/M000094.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000094.html');return false;">
<b>select_literal</b>(value, as = nil)
</a>
</td></tr>
</table>
<div class="description">
<p>
<a href="Select.html">Select</a> a literal, automatically selecting its
result type.
</p>
<dl>
<dt>value</dt><dd>The value to put in the statement. This can be any of these types:

<ul>
<li>nil

</li>
<li>Integer

</li>
<li>Float

</li>
<li>String

</li>
<li>true or false

</li>
<li><a href="PgTime.html">PgTime</a>

</li>
<li><a href="PgInterval.html">PgInterval</a>

</li>
<li><a href="PgTimeWithTimeZone.html">PgTimeWithTimeZone</a>

</li>
<li><a href="PgTimestamp.html">PgTimestamp</a>

</li>
<li><a href="PgPoint.html">PgPoint</a>

</li>
<li><a href="PgLineSegment.html">PgLineSegment</a>

</li>
<li><a href="PgBox.html">PgBox</a>

</li>
<li><a href="PgPath.html">PgPath</a>

</li>
<li><a href="PgPolygon.html">PgPolygon</a>

</li>
<li><a href="PgCircle.html">PgCircle</a>

</li>
<li><a href="PgBit.html">PgBit</a>

</li>
<li><a href="PgInet.html">PgInet</a>

</li>
<li><a href="PgCidr.html">PgCidr</a>

</li>
<li><a href="PgMacAddr.html">PgMacAddr</a>

</li>
</ul>
</dd>
<dt>as</dt><dd>The alias name to put in the statement and to use as the hash key in the
result. If nil, then no alias name appears in the statement and the value
itself is used as the hash key.

</dd>
</dl>
<p>
Example:
</p>
<pre>
  select = Select.new(connection)
  select.select_literal(2, 'n')
  select.select_literal('foo', 't')
  p select.statement         # &quot;select 2 as n, 'foo' as t&quot;
  p select.exec              # [{&quot;n&quot;=&gt;2, &quot;t&quot;=&gt;&quot;foo&quot;}]
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000095"></a>
<a href="Select.src/M000095.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000095.html');return false;">
<b>distinct</b>()
</a>
</td></tr>
</table>
<div class="description">
<p>
Add &quot;distinct&quot; to this statement.
</p>
<p>
Example:
</p>
<pre>
  select = Select.new
  select.distinct
  select.select('i')
  select.from('foo')
  p select.statement             # &quot;select distinct i from foo&quot;
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000096"></a>
<a href="Select.src/M000096.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000096.html');return false;">
<b>distinct_on</b>(expression)
</a>
</td></tr>
</table>
<div class="description">
<p>
Add &quot;distinct on&quot; to this statement. &quot;distinct on&quot; is a
postgres extension.
</p>
<p>
Example:
</p>
<pre>
  select = Select.new
  select.distinct_on('i')
  select.select('integer', 'i')
  select.select('integer', 'j')
  select.from('foo')
  p select.statement            # &quot;select distinct on (i) i, j from
                                # foo&quot;
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000097"></a>
<a href="Select.src/M000097.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000097.html');return false;">
<b>from</b>(table, as = nil)
</a>
</td></tr>
</table>
<div class="description">
<p>
Add the &quot;from&quot; clause to the statement.
</p>
<dl>
<dt>table</dt><dd>What&#8217;s being selected from, which is either

<ul>
<li>A table name, or

</li>
<li>a <a href="Select.html">Select</a> statement

</li>
</ul>
</dd>
<dt>as</dt><dd>The alias name, or nil if there isn&#8217;t one

</dd>
</dl>
<p>
Table example:
</p>
<pre>
  select = Select.new
  select.select('i')
  select.from('foo')
  p select.statement    # &quot;select i from foo&quot;
</pre>
<p>
Subselect example:
</p>
<pre>
  subselect = Select.new
  subselect.select('i')
  subselect.from('foo')
  select = Select.new
  select.select('i')
  select.from(subselect, 'bar')
  p select.statement  # &quot;select i from (select i from foo) as bar&quot;
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000098"></a>
<a href="Select.src/M000098.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000098.html');return false;">
<b>union</b>(select)
</a>
</td></tr>
</table>
<div class="description">
<p>
Add the &quot;union&quot; set operation to this statement. You may call
this multiple times.
</p>
<p>
The right-hand-side of the union is put in parentheses. This makes it
possible to force the order when doing multiple set operations.
</p>
<p>
Example
</p>
<pre>
  select2 = Select.new
  select2.select('i')
  select2.from('bar')
  select1 = Select.new
  select1.select('i')
  select1.from('foo')
  select1.union(select2)
  p select1.statement    # &quot;select i from foo union (select i from
                         # bar)&quot;
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000099"></a>
<a href="Select.src/M000099.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000099.html');return false;">
<b>union_all</b>(select)
</a>
</td></tr>
</table>
<div class="description">
<p>
Add the &quot;union all&quot; set operation to this statement. See <a
href="Select.html#M000098">union</a>.
</p>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000100"></a>
<a href="Select.src/M000100.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000100.html');return false;">
<b>intersect</b>(select)
</a>
</td></tr>
</table>
<div class="description">
<p>
Add the &quot;intersect&quot; set operation to this statement. See <a
href="Select.html#M000098">union</a>.
</p>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000101"></a>
<a href="Select.src/M000101.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000101.html');return false;">
<b>intersect_all</b>(select)
</a>
</td></tr>
</table>
<div class="description">
<p>
Add the &quot;intersect all&quot; set operation to this statement. See <a
href="Select.html#M000098">union</a>.
</p>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000102"></a>
<a href="Select.src/M000102.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000102.html');return false;">
<b>except</b>(select)
</a>
</td></tr>
</table>
<div class="description">
<p>
Add the &quot;except&quot; set operation to this statement. See <a
href="Select.html#M000098">union</a>.
</p>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000103"></a>
<a href="Select.src/M000103.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000103.html');return false;">
<b>except_all</b>(select)
</a>
</td></tr>
</table>
<div class="description">
<p>
Add the &quot;except all&quot; set operation to this statement. See <a
href="Select.html#M000098">union</a>.
</p>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000104"></a>
<a href="Select.src/M000104.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000104.html');return false;">
<b>natural_join</b>(table)
</a>
</td></tr>
</table>
<div class="description">
<p>
Add a natural join to this statement.
</p>
<p>
Example:
</p>
<pre>
  select = Select.new
  select.select('i')
  select.from('foo')
  select.natural_join('bar')
  p select.statement        # &quot;select i from foo natural join bar&quot;
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000105"></a>
<a href="Select.src/M000105.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000105.html');return false;">
<b>join_using</b>(joinType, table, *columns)
</a>
</td></tr>
</table>
<div class="description">
<p>
Add a &quot;join using&quot; to this statement.
</p>
<dl>
<dt>joinType</dt><dd>One of:

<pre>
  * 'inner'
  * 'left outer'
  * 'right outer'
  * 'full outer'
</pre>
</dd>
<dt>table</dt><dd>The table being joined

</dd>
<dt>*columns</dt><dd>One or more column names.

</dd>
</dl>
<p>
Example:
</p>
<pre>
  select = Select.new
  select.select('i')
  select.from('foo')
  select.join_using('inner', 'bar', 'i', 'j')
  p select.statement  # &quot;select i from foo inner join bar using (i, j)&quot;
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000106"></a>
<a href="Select.src/M000106.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000106.html');return false;">
<b>join_on</b>(joinType, table, condition)
</a>
</td></tr>
</table>
<div class="description">
<p>
Add a &quot;join on&quot; to this statement.
</p>
<dl>
<dt>joinType</dt><dd>One of:

<pre>
  * 'inner'
  * 'left outer'
  * 'right outer'
  * 'full outer'
</pre>
</dd>
<dt>table</dt><dd>The table being joined

</dd>
<dt>condition</dt><dd>A string or array that will be converted by <a
href="Translate.html#M000002">substitute_values</a> and inserted into the
statement.

</dd>
</dl>
<p>
Example:
</p>
<pre>
  select = Select.new
  select.select('i')
  select.from('foo')
  select.join_on('inner', 'bar', 'foo.i = bar.j')
  p select.statement  # &quot;select i from foo inner join bar on (foo.i =
                      # bar.j)&quot;
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000107"></a>
<a href="Select.src/M000107.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000107.html');return false;">
<b>cross_join</b>(table)
</a>
</td></tr>
</table>
<div class="description">
<p>
Add a &quot;cross join&quot; to this statement.
</p>
<p>
Example:
</p>
<pre>
  select = Select.new
  select.select('i')
  select.from('foo')
  select.cross_join('bar')
  p select.statement       # &quot;select i from foo cross join bar&quot;
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000108"></a>
<a href="Select.src/M000108.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000108.html');return false;">
<b>order_by</b>(expression, ordering = nil)
</a>
</td></tr>
</table>
<div class="description">
<p>
Add an &quot;order by&quot; to this statement. You can call this as many
times as you need.
</p>
<dl>
<dt>expression</dt><dd>A string or array that will be converted by <a
href="Translate.html#M000002">substitute_values</a> and inserted into the
statement.

</dd>
<dt>ordering</dt><dd>One of:

<table>
<tr><td valign="top">&#8216;asc&#8217;:</td><td>ascending

</td></tr>
<tr><td valign="top">&#8216;desc&#8217;:</td><td>descending

</td></tr>
<tr><td valign="top">nil:</td><td>default ordering, which is ascending

</td></tr>
</table>
</dd>
</dl>
<p>
Example:
</p>
<pre>
  select = Select.new
  select.select('i')
  select.select('j')
  select.from('foo')
  select.order_by('i')
  select.order_by('j', 'desc')
  p select.statement   # &quot;select i, j from foo order by i, j desc&quot;
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000109"></a>
<a href="Select.src/M000109.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000109.html');return false;">
<b>where</b>(expression)
</a>
</td></tr>
</table>
<div class="description">
<p>
Add a &quot;where&quot; condition to this statement.
</p>
<dl>
<dt>expression</dt><dd>The condition. Should be one of:

<dl>
<dt>A string</dt><dd>The expression

</dd>
<dt>An array</dt><dd>An expression converted using <a
href="Translate.html#M000002">substitute_values</a>

</dd>
</dl>
</dd>
</dl>
<p>
Example (string)
</p>
<pre>
  select = Select.new
  select.select('i')
  select.from('foo')
  select.where('i &gt; 0')
  p select.statement     # &quot;select i from foo where i &gt; 0&quot;
</pre>
<p>
Example (array)
</p>
<pre>
  select = Select.new
  select.select('age')
  select.from('person')
  select.where(['name = %s', 'Smith'])
  p select.statement     # &quot;select age from person where name =
                         # 'Smith'&quot;
</pre>
<p>
Example (in)
</p>
<pre>
  select = Select.new
  select.select('s')
  select.from('foo')
  select.where(['s in %s', [:in, 'foo', 'bar']])
  p select.statement     # &quot;select s from foo where s in ('foo',
                         # 'bar')&quot;
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000110"></a>
<a href="Select.src/M000110.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000110.html');return false;">
<b>group_by</b>(expression)
</a>
</td></tr>
</table>
<div class="description">
<p>
Add a &quot;group by&quot; to this statement.
</p>
<dl>
<dt>expression</dt><dd>A string or array that will be converted by <a
href="Translate.html#M000002">substitute_values</a> and inserted into the
statement.

</dd>
</dl>
<p>
Example
</p>
<pre>
  select = Select.new
  select.select('i')
  select.select('count(*)', 'count')
  select.from('foo')
  select.group_by('i')
  p select.statement     # &quot;select i, count(*) as count from foo group
                         # by i&quot;
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000111"></a>
<a href="Select.src/M000111.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000111.html');return false;">
<b>having</b>(expression)
</a>
</td></tr>
</table>
<div class="description">
<p>
Add a &quot;having&quot; clause to this statement.
</p>
<dl>
<dt>expression</dt><dd>A string or array that will be converted by <a
href="Translate.html#M000002">substitute_values</a> and inserted into the
statement.

</dd>
</dl>
<p>
Example
</p>
<pre>
  select = Select.new
  select.select('i')
  select.select('count(*)', 'count')
  select.from('foo')
  select.group_by('i')
  select.having('i &lt; 10')
  p select.statement       # &quot;select i, count(*) as count from foo
                           # group by i having i &lt; 10&quot;
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000112"></a>
<a href="Select.src/M000112.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000112.html');return false;">
<b>limit</b>(value)
</a>
</td></tr>
</table>
<div class="description">
<p>
Add a &quot;limit&quot; clause to the statement.
</p>
<p>
Example:
</p>
<pre>
  select = Select.new
  select.select('i')
  select.from('foo')
  select.order_by('i')
  select.limit(1)
  p select.statement   # &quot;select i from foo order by i limit 1&quot;
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000113"></a>
<a href="Select.src/M000113.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000113.html');return false;">
<b>offset</b>(value)
</a>
</td></tr>
</table>
<div class="description">
<p>
Add an &quot;offset&quot; clause to the statement.
</p>
<p>
Example:
</p>
<pre>
  select = Select.new
  select.select('i')
  select.from('foo')
  select.order_by('i')
  select.offset(1)
  p select.statement     # &quot;select i from foo order by i offset 1&quot;
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000114"></a>
<a href="Select.src/M000114.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000114.html');return false;">
<b>for_update</b>()
</a>
</td></tr>
</table>
<div class="description">
<p>
Add &quot;for update&quot; to the statement.
</p>
<p>
Example:
</p>
<pre>
  select = Select.new
  select.select('i')
  select.from('foo')
  select.for_update
  p select.statement     # &quot;select i from foo for update&quot;
</pre>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000115"></a>
<a href="Select.src/M000115.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000115.html');return false;">
<b>statement</b>()
</a>
</td></tr>
</table>
<div class="description">
<p>
Return the SQL statement.
</p>
</div>
<table summary="method"  width="100%" cellspacing="0" cellpadding="5" border="0">
<tr><td class="methodtitle">
<a name="M000116"></a>
<a href="Select.src/M000116.html" target="Code" class="methodtitle"
 onClick="popCode('Select.src/M000116.html');return false;">
<b>exec</b>(connection = @connection)
</a>
</td></tr>
</table>
<div class="description">
<p>
Execute the statement and return an array of hashes with the result.
</p>
<dl>
<dt>connection</dt><dd>If present, the connection to use. If nil, uses the connection passed to
new or, if no connection was passed to new, uses the default connection.

</dd>
</dl>
</div>

</body>
</html>